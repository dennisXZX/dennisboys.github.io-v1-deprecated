<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  <link href="//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.5.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=0.5.0" />






<meta name="description" content="Today I have learned how to manage softwares, users and permissions on a Linux system to increase system security.
It is noticeable that when we log in our VM we are logged in as a standard user. As a">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux security">
<meta property="og:url" content="http://yoursite.com/2016/04/23/linux-security/index.html">
<meta property="og:site_name" content="Dennis the Geek">
<meta property="og:description" content="Today I have learned how to manage softwares, users and permissions on a Linux system to increase system security.
It is noticeable that when we log in our VM we are logged in as a standard user. As a">
<meta property="og:updated_time" content="2016-04-25T12:26:05.631Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Linux security">
<meta name="twitter:description" content="Today I have learned how to manage softwares, users and permissions on a Linux system to increase system security.
It is noticeable that when we log in our VM we are logged in as a standard user. As a">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'Author'
    }
  };
</script>

  <title> Linux security | Dennis the Geek </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Dennis the Geek</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Programming is an art</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-user fa-fw"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            Categories
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="#" class="st-search-show-outputs">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', '_QnkGp11P7jmasvRybVr','2.0.0');
</script>



    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Linux security
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-04-23T15:37:12+10:00" content="2016-04-23">
              2016-04-23
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/04/23/linux-security/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/04/23/linux-security/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>Today I have learned how to manage softwares, users and permissions on a Linux system to increase system security.</p>
<p>It is noticeable that when we log in our VM we are logged in as a standard user. As a standard user, you cannot execute some of the Linux commands. If you want to run some commands that are limited to system administrators, you can prepend the word ‘sudo’ at the beginning of your commands.</p>
<p>Command <strong>sudo ls -al /home/ubuntu/.ssh</strong> would list all files in the .ssh directory.</p>
<h1 id="Software-Update"><a href="#Software-Update" class="headerlink" title="Software Update"></a>Software Update</h1><p>Keeping softwares up-to-date plays a big part in system security. So now let’s come to the stage of updating and installing softwares on Linux. The following commands are useful in terms of installing and updating softwares on the system.</p>
<ul>
<li><p>Use command <strong>cat /etc/apt/sources.list</strong> to get a list of software repositories.</p>
</li>
<li><p>Use command <strong>sudo apt-get update</strong> to update the package source list.</p>
</li>
<li><p>Use command <strong>sudo apt-get upgrade</strong> to update the softwares in the operation system.</p>
</li>
<li><p>Use command <strong>sudo apt-get autoremove</strong> to remove anything that is useless in the system.</p>
</li>
<li><p>Use command <strong>sudo apt-get install softwareName</strong> to install a software to the system.</p>
</li>
<li><p>Use command <strong>udo apt-get –purge remove softwareName</strong> to remove a software.</p>
</li>
</ul>
<h1 id="User-Management"><a href="#User-Management" class="headerlink" title="User Management"></a>User Management</h1><p>Another important file in the system is ‘/etc/passwd’, which keeps track of all the users in the system.</p>
<ul>
<li>Use command <strong>cat /etc/passwd</strong> to peek inside the file.</li>
</ul>
<p>Each row in the passwd file represents a user in the following format: </p>
<ul>
<li>username:password:UID:GID:UID info:home directory:command/shell</li>
</ul>
<p>User management plays an important role in terms of system security. Here are some commands related to user management.</p>
<ul>
<li>Use command <strong>sudo adduser userName</strong> to add a new user.</li>
</ul>
<p>Once you have added a new user, you can use the following command to log in the system as the new user.</p>
<ul>
<li><strong>ssh userName@127.0.0.1 -p 2222</strong></li>
</ul>
<p>Let’s break this command down a bit.</p>
<p>ssh: ssh is the application we use to connect to a server<br>127.0.0.1: this is the IP we want to connect to<br>-p 2222: this is the port that we use to connect to the IP</p>
<p>Now we need to give the new user sudo access. Let’s assume we would like to create a new user named dennis.</p>
<ol>
<li><p>copy a current sudoer file and name it as the new user<br>sudo cp /etc/sudoers.d/vagrant /etc/sudoers.d/dennis</p>
</li>
<li><p>edit the new user sudoer file using your preferred editor<br>sudo nano /etc/sudoers.d/dennis</p>
</li>
<li><p>change the user info in the sudoer file<br>dennis All=(All) NOPASSWD:ALL</p>
</li>
</ol>
<p>After adding a new user, you can force the new user password to expire by using the following command:</p>
<ul>
<li><strong>sudo passwd -e userName</strong></li>
</ul>
<h1 id="Key-based-Authentication"><a href="#Key-based-Authentication" class="headerlink" title="Key-based Authentication"></a>Key-based Authentication</h1><p>There is another authentication method, key-based authenticaton, that is more secure than using password.</p>
<p>The concept of a key-based authentication is that you generate a key pair on your local machine, and then you keep the private key in your machine and put the public key onto your server. </p>
<p>Here is how we generate a key pair locally.</p>
<ol>
<li>use <strong>ssh-keygen</strong> to generate a key pair</li>
<li>save your key to <strong>/home/vagrant/.ssh/fileName</strong></li>
<li>now a key pair is generated, you should see in your specificed directory two new files, one private (key) and the other public (key.pub).</li>
</ol>
<p>When you have generated a key pair, then you need to place the public key onto your server.</p>
<ul>
<li>Use this handy one-line command <strong>cat ~/.ssh/id_rsa.pub | ssh user@hostname ‘cat &gt;&gt; .ssh/authorized_keys’</strong> to push the key to a remote server.</li>
</ul>
<p>Here are the detailed steps for how to putsh the key to a remote server:</p>
<ol>
<li>create a directory on your server using <strong>mkdir .ssh</strong>, .ssh is a special directory where all of your key related files must be stored.</li>
<li>create a file using <strong>touch .ssh/authorized_keys</strong>, authorized_keys stores all the public keys that the current account allows to use for authentication.</li>
<li>now go back to the local machine and copy the public key by using <strong>cat .ssh/key.pub</strong>.</li>
<li>head to server and edit the authorized_keys file by using <strong>nano .ssh/authorized_keys</strong> and paste the public key into the file.</li>
<li>set up file permission on the .ssh folder and authorized_keys file by using <strong>chmod 700 .ssh</strong> and <strong>chmod 644 .ssh/authorized_keys</strong>.</li>
</ol>
<p>Now you can log in using key-based authentication.</p>
<ul>
<li>Log in using <strong>ssh dennis@127.0.0.1 -p 2222 -i ~/.ssh/key</strong></li>
</ul>
<p>Yeah, now you have used key-based authentication instead of password. However, for greater security, we need to enforce all users log in using key-based authentication.</p>
<p>We need to edit the SSHD service config file to achieve that.</p>
<ul>
<li>Use command <strong>sudo nano /etc/ssh/sshd_config</strong> and change the <strong>PasswordAuthentication</strong> field to no.</li>
</ul>
<p>When you are done with the configration change, you can restart the SSHD service by using <strong>sudo service ssh restart</strong>.</p>
<h1 id="File-Permission"><a href="#File-Permission" class="headerlink" title="File Permission"></a>File Permission</h1><p>If you run a command like <strong>ls -l</strong>, the first column you see is the file permission information for a file or directory. </p>
<ul>
<li><strong>-rw-r–r– 1 vagrant vagrant   3637 Apr  9  2014 .bashrc</strong></li>
</ul>
<p>The first letter indicates if it is a file (-) or a directory (d). After that there are a total of nine ‘-‘, which can be separated into three groups.</p>
<p>owner   group   everyone<br> rwx  |  r–  |    r–</p>
<ul>
<li>r indicates the read permission</li>
<li>w indicates the write permission</li>
<li>x indicates the execute permission</li>
</ul>
<p>The second column is the owner and the third one is the group.</p>
<p>Now we need to dive a bit deeper into the <strong>chmod</strong> command.</p>
<p>Previously we used command like <strong>chmod 700 .ssh</strong> and <strong>chmod 644 .ssh/authorized_keys</strong> without really understanding what we are doing.</p>
<p>It turns out that Linux uses octal permission, so read, write and execute permissions can be expressed using numbers like the following:</p>
<ul>
<li>r = 4</li>
<li>w = 2</li>
<li>x = 1</li>
</ul>
<p>By adding the numbers together we will get the permission that we need to apply on a file or directory. For example, a read and execute permission will be 4 + 1 = 5.</p>
<p>Another thing that we need to remember is that for each file we need to give a three digits number, representing the permissions for owner, group and everyone respectively.</p>
<p>So now when we look back at our previous example of <strong>chmod 700 .ssh</strong>, we know that we give the owner all read, write and execute permissions, while stripping permissions all together from group and everyone.</p>
<p>We can also change owner or group permission for an entry using commands <strong>sudo chown ownerName .bash_history</strong> or <strong>sudo chgrp gruopName .bash_history</strong>.</p>
<h1 id="Firewalls"><a href="#Firewalls" class="headerlink" title="Firewalls"></a>Firewalls</h1><p>Each application is configured to respond to requests destined for a specific port.</p>
<p>Here are a list of common ports that you would see quite offen:</p>
<p>21: File Transfer Protocol (FTP)<br>22: Secure Shell (SSH)<br>25: Simple Mail Transfer Protocol (SMTP)<br>53: Domain Name System (DNS) service<br>80: Hypertext Transfer Protocol (HTTP)<br>110: Post Office Protocol (POP3)<br>443: HTTP Secure (HTTPS)</p>
<p>We can use a firewall to configure which port we would like to listen to.</p>
<p>In Ubuntu, a firewall called <strong>ufw</strong> is pre-installed but by default it is not active.</p>
<ul>
<li>Use command <strong>sudo uwf status</strong> to check on the status of the firewall.</li>
</ul>
<p>Because of the least privilege rule, we should start by blocking all our ports and then configure which port we would like to open. This practice would make managing rules much easier.</p>
<ul>
<li>Use command <strong>sudo uwf default deny incoming</strong> to block all the ports.</li>
<li>Use command <strong>sudo uwf default allow outgoing</strong> to allow our server to send any request going out to internet.</li>
</ul>
<p>Now it’s time to configure our firewall.</p>
<ul>
<li>Use command <strong>sudo ufw allow ssh</strong> to allow ssh.</li>
<li>Use command <strong>sudo ufw allow www</strong> to allow http server.</li>
</ul>
<p>After configuration done, we can turn on the firewall by using <strong>sudo ufw enable</strong>.</p>

      
    </div>

    <div>
      
        
      
    </div>

    <footer class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/04/23/basic-markdown/" rel="next" title="Basic Markdown">
                <i class="fa fa-chevron-left"></i> Basic Markdown
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/blog_profile_image.jpg"
               alt="Dennis Xiao" />
          <p class="site-author-name" itemprop="name">Dennis Xiao</p>
          <p class="site-description motion-element" itemprop="description">Code For Fun && Code For Food</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">8</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://au.linkedin.com/in/dennisxiao" target="_blank">
                  
                    <i class="fa fa-globe"></i> linkedIn
                  
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://github.com/dennisboys" target="_blank">
                  
                    <i class="fa fa-globe"></i> github
                  
                </a>
              </span>
            
          
        </div>

        
        

        
        <div class="links-of-blogroll motion-element">
          
        </div>

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator">
            <i class="fa fa-angle-double-up"></i>
          </div>
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Software-Update"><span class="nav-number">1.</span> <span class="nav-text">Software Update</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#User-Management"><span class="nav-number">2.</span> <span class="nav-text">User Management</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Key-based-Authentication"><span class="nav-number">3.</span> <span class="nav-text">Key-based Authentication</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#File-Permission"><span class="nav-number">4.</span> <span class="nav-text">File Permission</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Firewalls"><span class="nav-number">5.</span> <span class="nav-text">Firewalls</span></a></li></ol></div>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator">
            <i class="fa fa-angle-double-down"></i>
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Dennis Xiao</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  


  




<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=0.5.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=0.5.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=0.5.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=0.5.0"></script>



  
  
<script type="text/javascript" src="/js/src/scrollspy.js?v=0.5.0"></script>

<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 1 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = NexT.utils.escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    NexT.motion.middleWares.sidebar = function () {
      var $tocContent = $('.post-toc-content');

      if (CONFIG.sidebar.display === 'post' || CONFIG.sidebar.display === 'always') {
        if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
          NexT.utils.displaySidebar();
        }
      }
    };
  });
</script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=0.5.0"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'dennisxiao';
      var disqus_identifier = '2016/04/23/linux-security/';
      var disqus_title = 'Linux security';
      var disqus_url = 'http://yoursite.com/2016/04/23/linux-security/';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
        run_disqus_script('embed.js');
      
    </script>
  



  
  
  

  

  

</body>
</html>
